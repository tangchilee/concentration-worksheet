import React, { useState, useEffect, useRef } from 'react';
import { 
  Star, 
  Moon, 
  Heart, 
  Cloud, 
  Ghost,
  Flag, 
  Fish, 
  Plane,
  Gift,
  Apple, 
  Car,
  Rocket,
  Cat,
  Home,
  Leaf,
  Crown,
  CheckCircle2, 
  XCircle, 
  RefreshCw, 
  Sparkles, 
  Palette, 
  RotateCcw,
  Key, 
  Hash, 
  Image as ImageIcon 
} from 'lucide-react';

// --- 自定義滿版幾何圖形 ---
const FullCircle = ({ className, style }) => (
  <svg viewBox="0 0 24 24" className={className} style={style}><circle cx="12" cy="12" r="10" fill="currentColor" /></svg>
);
const FullTriangle = ({ className, style }) => (
  <svg viewBox="0 0 24 24" className={className} style={style}><path d="M12 2L22 20H2L12 2Z" fill="currentColor" /></svg>
);
const FullSquare = ({ className, style }) => (
  <svg viewBox="0 0 24 24" className={className} style={style}><rect x="3" y="3" width="18" height="18" rx="2" fill="currentColor" /></svg>
);

const App = () => {
  const [mode, setMode] = useState('3x3');
  const [isRandom, setIsRandom] = useState(true);
  const [leftGrid, setLeftGrid] = useState([]);
  const [rightGrid, setRightGrid] = useState([]);
  const [targetIcons, setTargetIcons] = useState([]);
  const [userAnswers, setUserAnswers] = useState({});
  const [showResult, setShowResult] = useState(false);
  const [isCorrect, setIsCorrect] = useState(false);
  const [activePickerId, setActivePickerId] = useState(null);
  const [isExporting, setIsExporting] = useState(false); 
  const pickerRef = useRef(null);
  const exportContainerRef = useRef(null); 

  const themeColors = {
    orange: '#ff8c42',
    amber: '#f59e0b',
    caramel: '#d35400',
    deepCocoa: '#433422', 
    creamBg: '#fff7ed',
    borderAmber: '#f9ebbe',
    cardBg: '#fff9e6',
  };

  const labelBaseClass = "bg-[#ff8c42] text-white px-4 sm:px-8 py-2.5 sm:h-12 rounded-full font-black text-[10px] sm:text-lg tracking-widest shadow-md flex items-center justify-center gap-1.5 sm:gap-2 leading-none whitespace-nowrap";

  const iconPool = [
    { id: 'star', component: Star, hex: themeColors.orange },
    { id: 'moon', component: Moon, hex: themeColors.amber },
    { id: 'heart', component: Heart, hex: themeColors.caramel },
    { id: 'cloud', component: Cloud, hex: themeColors.orange },
    { id: 'ghost', component: Ghost, hex: themeColors.amber },
    { id: 'flag', component: Flag, hex: themeColors.caramel },
    { id: 'fish', component: Fish, hex: themeColors.orange },
    { id: 'plane', component: Plane, hex: themeColors.amber },
    { id: 'gift', component: Gift, hex: themeColors.caramel },
    { id: 'apple', component: Apple, hex: themeColors.orange },
    { id: 'car', component: Car, hex: themeColors.amber },
    { id: 'crown', component: Crown, hex: themeColors.caramel },
    { id: 'rocket', component: Rocket, hex: themeColors.orange },
    { id: 'cat', component: Cat, hex: themeColors.amber },
    { id: 'home', component: Home, hex: themeColors.caramel },
    { id: 'leaf', component: Leaf, hex: themeColors.orange },
    { id: 'circle', component: FullCircle, hex: themeColors.amber }, 
    { id: 'triangle', component: FullTriangle, hex: themeColors.caramel }, 
    { id: 'square', component: FullSquare, hex: themeColors.orange }, 
  ];

  useEffect(() => {
    const script = document.createElement('script');
    script.src = "https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js";
    script.async = true;
    document.body.appendChild(script);
    return () => { if (script && document.body.contains(script)) document.body.removeChild(script); };
  }, []);

  const shuffleArray = (array) => {
    const newArr = [...array];
    for (let i = newArr.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [newArr[i], newArr[j]] = [newArr[j], newArr[i]];
    }
    return newArr;
  };

  const generateNewGame = (currentMode = mode, currentRandom = isRandom) => {
    const is3x3 = currentMode === '3x3';
    const gridSize = is3x3 ? 9 : 16;
    const side = is3x3 ? 3 : 4;
    const targetCount = is3x3 ? 5 : 8;
    const shuffledIcons = shuffleArray(iconPool).sort(() => 0.5 - Math.random()).slice(0, targetCount);
    setTargetIcons(shuffledIcons);

    let leftPositions;
    let attempts = 0;
    const maxInLine = is3x3 ? 2 : 3; 

    while (attempts < 15) {
      leftPositions = Array(gridSize).fill(null);
      const availableIndices = shuffleArray(Array.from({length: gridSize}, (_, i) => i));
      const chosenIndices = availableIndices.slice(0, targetCount);
      const rowCounts = Array(side).fill(0);
      const colCounts = Array(side).fill(0);
      
      chosenIndices.forEach(idx => {
        rowCounts[Math.floor(idx / side)]++;
        colCounts[idx % side]++;
      });

      const isClustered = rowCounts.some(c => c > maxInLine) || colCounts.some(c => c > maxInLine);
      if (!isClustered || attempts === 14) {
        chosenIndices.forEach((idx, i) => { leftPositions[idx] = shuffledIcons[i]; });
        break;
      }
      attempts++;
    }
    setLeftGrid(leftPositions);
    let rightNumbers = Array.from({length: gridSize}, (_, i) => i + 1);
    if (currentRandom) rightNumbers = shuffleArray(rightNumbers);
    setRightGrid(rightNumbers);
    setUserAnswers({});
    setShowResult(false);
    setIsCorrect(false);
    setActivePickerId(null);
  };

  useEffect(() => { generateNewGame(); }, [mode, isRandom]);

  const selectNumber = (iconId, num) => {
    setUserAnswers(prev => ({ ...prev, [iconId]: num }));
    setActivePickerId(null);
  };

  const checkAnswers = () => {
    let allCorrect = true;
    targetIcons.forEach(icon => {
      const posIndex = leftGrid.findIndex(item => item && item.id === icon.id);
      const correctNumber = rightGrid[posIndex];
      if (parseInt(userAnswers[icon.id]) !== correctNumber) allCorrect = false;
    });
    setIsCorrect(allCorrect);
    setShowResult(true);
  };

  const handleExportImage = async () => {
    if (!window.html2canvas || isExporting) return;
    setIsExporting(true);
    const exportArea = exportContainerRef.current;
    exportArea.style.display = 'block'; 
    try {
      const canvas = await window.html2canvas(exportArea, {
        scale: 3, 
        useCORS: true,
        logging: false,
        backgroundColor: '#ffffff',
        width: 800,
        height: 1132
      });
      const image = canvas.toDataURL("image/png", 1.0);
      const link = document.createElement('a');
      link.href = image;
      link.download = `幼兒專注力練習單_${mode}.png`;
      link.click();
    } catch (err) {
      console.error("導出失敗", err);
    } finally {
      exportArea.style.display = 'none'; 
      setIsExporting(false);
    }
  };

  return (
    <div className="min-h-screen bg-[#fff7ed] p-2 sm:p-4 md:p-8 relative selection:bg-orange-200">
      <style dangerouslySetInnerHTML={{ __html: `
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;700;900&display=swap');
        * { font-family: 'Noto Serif TC', serif !important; }
        body { -webkit-tap-highlight-color: transparent; }
        @media print { .no-print { display: none !important; } }
      `}} />

      {/* --- 網頁預覽介面 (Home UI) --- */}
      <div className="max-w-5xl mx-auto bg-white rounded-[2rem] shadow-xl overflow-hidden border-[6px] sm:border-[10px] md:border-[12px] border-[#f9ebbe] transition-all flex flex-col no-print pb-12">
        <div className="text-center pt-8 pb-0 px-4 bg-gradient-to-b from-[#fffcf0] to-white">
          <div className="inline-flex items-center gap-2 px-3 py-1 bg-orange-100/80 text-[#ff8c42] rounded-full text-xs font-black tracking-widest uppercase mb-3 shadow-sm">
            <Sparkles className="w-3.5 h-3.5" /> 教學輔助工具
          </div>
          <h1 className="text-3xl sm:text-5xl font-[900] text-orange-950 tracking-[0.15em] mb-3 drop-shadow-sm leading-tight px-2">專注力學習單</h1>
          <p className="text-[#433422]/80 font-normal leading-snug text-[10px] sm:text-xs md:text-[14px] px-4 mb-4 whitespace-nowrap overflow-hidden text-ellipsis">
            為小朋友打造最溫馨、專業的視覺搜尋與空間對應練習空間
          </p>
        </div>

        <div className="p-3 sm:p-6 md:p-10 pt-4 flex-grow flex flex-col items-center">
          <div className="w-full max-w-4xl flex flex-col space-y-12">
            
            {/* 設定區 */}
            <div className="grid grid-cols-2 sm:grid-cols-3 gap-3 sm:gap-6">
              <div className="flex flex-col items-center col-span-1">
                <span className="text-[10px] sm:text-sm font-black text-orange-800/80 tracking-widest mb-2 uppercase">練習難度設定</span>
                <div className="flex bg-[#fff9e6] rounded-xl sm:rounded-2xl p-1 border-2 border-[#f9ebbe] w-full h-[50px] sm:h-[60px]">
                  <button onClick={() => setMode('3x3')} className={`flex-1 rounded-lg sm:rounded-xl text-xs sm:text-base font-black transition-all ${mode === '3x3' ? 'bg-[#ff8c42] text-white shadow-md' : 'text-orange-900/60'}`}>3x3</button>
                  <button onClick={() => setMode('4x4')} className={`flex-1 rounded-lg sm:rounded-xl text-xs sm:text-base font-black transition-all ${mode === '4x4' ? 'bg-[#ff8c42] text-white shadow-md' : 'text-orange-900/60'}`}>4x4</button>
                </div>
              </div>
              <div className="flex flex-col items-center col-span-1">
                <span className="text-[10px] sm:text-sm font-black text-orange-800/80 tracking-widest mb-2 uppercase">數字密碼圖設定</span>
                <div className="flex bg-[#fff9e6] rounded-xl sm:rounded-2xl p-1 border-2 border-[#f9ebbe] w-full h-[50px] sm:h-[60px]">
                  <button onClick={() => setIsRandom(false)} className={`flex-1 rounded-lg sm:rounded-xl text-xs sm:text-base font-black transition-all ${!isRandom ? 'bg-[#ff8c42] text-white shadow-md' : 'text-orange-900/60'}`}>順序</button>
                  <button onClick={() => setIsRandom(true)} className={`flex-1 rounded-lg sm:rounded-xl text-xs sm:text-base font-black transition-all ${isRandom ? 'bg-[#ff8c42] text-white shadow-md' : 'text-orange-900/60'}`}>隨機</button>
                </div>
              </div>
              <div className="flex flex-col items-center col-span-2 sm:col-span-1">
                <span className="text-[10px] sm:text-sm font-black text-orange-800/80 tracking-widest mb-2 uppercase">重新產生題目</span>
                <button onClick={() => generateNewGame()} className="w-full h-[50px] sm:h-[60px] flex items-center justify-center gap-2 sm:gap-3 bg-white text-[#ff8c42] rounded-xl sm:rounded-2xl border-2 border-[#f9ebbe] shadow-sm text-xs sm:text-base font-black active:scale-95 transition-all">
                  <RotateCcw className="w-4 h-4 sm:w-5 sm:h-5" /> 換下一題
                </button>
              </div>
            </div>

            {/* 區塊二：任務區 - 修正手機版擁擠與等距問題 */}
            <div className="bg-white/70 backdrop-blur-md pt-8 pb-6 px-2 sm:px-8 rounded-[2rem] border-2 border-[#f9ebbe] relative shadow-sm w-full mx-auto max-w-[800px]">
              <div className="absolute -top-5 sm:-top-6 left-1/2 -translate-x-1/2 sm:left-8 sm:translate-x-0">
                <div className={labelBaseClass}><Key className="w-3.5 h-3.5 sm:w-5 sm:h-5 shrink-0" />找出正確密碼</div>
              </div>
              
              <div className={`grid gap-y-4 sm:gap-y-10 mt-4 ${mode === '3x3' ? 'grid-cols-5 gap-x-2' : 'grid-cols-4 gap-x-1 sm:gap-x-6'}`}>
                {targetIcons.map((icon) => (
                  <div 
                    key={icon.id} 
                    className={`relative flex items-center ${mode === '3x3' ? 'flex-col gap-2 sm:gap-3' : 'flex-row justify-center gap-1 sm:gap-6'}`}
                  > 
                    {/* 手機版 4x4 空間精算：外部 gap-x-1，內部 gap-1，元件寬 w-7 (28px) */}
                    <div className={`flex items-center justify-center ${mode === '3x3' ? 'h-12 sm:h-22' : 'h-8 sm:h-20'}`}>
                      <icon.component 
                        className={`${mode === '3x3' ? 'w-10 h-10 sm:w-20 sm:h-20' : 'w-7 h-7 sm:w-16 sm:h-16'}`} 
                        style={{ color: icon.hex }} fill="currentColor" strokeWidth={0} 
                      />
                    </div>
                    <button 
                      onClick={(e) => { e.stopPropagation(); setActivePickerId(activePickerId === icon.id ? null : icon.id); }} 
                      className={`flex items-center justify-center font-black rounded-lg sm:rounded-xl border-2 shadow-sm relative z-10 shrink-0 aspect-square
                        ${mode === '3x3' ? 'w-9 h-9 sm:w-16 sm:h-16 text-sm sm:text-3xl' : 'w-7 h-7 sm:w-16 sm:h-16 text-xs sm:text-2xl'}
                        ${userAnswers[icon.id] ? 'bg-[#fffcf0] border-[#ff8c42]' : 'bg-[#f8f8f8] border-[#f9ebbe] text-[#ccc]'}`}
                    >
                      {userAnswers[icon.id] || '?'}
                    </button>
                    {activePickerId === icon.id && (
                      <div ref={pickerRef} className="absolute top-[105%] left-1/2 -translate-x-1/2 z-[100] bg-white rounded-xl sm:rounded-2xl p-2 shadow-2xl border-2 sm:border-4 border-[#f9ebbe] grid grid-cols-3 gap-1 w-28 sm:w-44">
                        {Array.from({length: mode === '3x3' ? 9 : 16}, (_, i) => i + 1).map((n) => (
                          <button key={n} onClick={(e) => { e.stopPropagation(); selectNumber(icon.id, n); }} className="aspect-square flex items-center justify-center text-xs sm:text-xl font-black bg-[#fff9e6] hover:bg-[#ff8c42] hover:text-white rounded-lg transition-colors">{n}</button>
                        ))}
                      </div>
                    )}
                  </div>
                ))}
              </div>
            </div>

            {/* 區塊三：參考九宮格區 */}
            <div className="grid grid-cols-2 gap-4 sm:gap-8 w-full max-w-[800px] mx-auto">
              <div className="flex flex-col items-center">
                <div className="mb-4 sm:mb-6"><div className={labelBaseClass}><Palette className="w-3 h-3 sm:w-5 sm:h-5 shrink-0" />圖案分布圖</div></div>
                <div className="grid gap-1 sm:gap-2 bg-[#fff9e6] p-2 sm:p-5 rounded-2xl border-2 border-[#f9ebbe] w-full aspect-square shadow-inner">
                  <div className={`grid h-full w-full gap-1 sm:gap-2 ${mode === '3x3' ? 'grid-cols-3' : 'grid-cols-4'}`}>
                    {leftGrid.map((item, idx) => (
                      <div key={`left-${idx}`} className="aspect-square bg-white rounded-md sm:rounded-xl flex items-center justify-center border border-white/50 overflow-hidden shadow-none">
                        {item && <item.component className="w-[75%] h-[75%]" style={{ color: item.hex }} fill="currentColor" strokeWidth={0} />}
                      </div>
                    ))}
                  </div>
                </div>
              </div>
              <div className="flex flex-col items-center">
                <div className="mb-4 sm:mb-6"><div className={labelBaseClass}><Hash className="w-3 h-3 sm:w-5 sm:h-5 shrink-0" />數字密碼圖</div></div>
                <div className="grid gap-1 sm:gap-2 bg-[#fff9e6] p-2 sm:p-5 rounded-2xl border-2 border-[#f9ebbe] w-full aspect-square shadow-inner">
                  <div className={`grid h-full w-full gap-1 sm:gap-2 ${mode === '3x3' ? 'grid-cols-3' : 'grid-cols-4'}`}>
                    {rightGrid.map((num, idx) => (
                      <div key={`right-${idx}`} className="aspect-square bg-white rounded-md sm:rounded-xl flex items-center justify-center border border-orange-50 shadow-none">
                        <span className={`${mode === '3x3' ? 'text-xl sm:text-5xl' : 'text-base sm:text-3xl'} font-black leading-none flex items-center justify-center w-full h-full text-[#433422]`}>{num}</span>
                      </div>
                    ))}
                  </div>
                </div>
              </div>
            </div>
          </div>

          {/* 按鈕區域：與上方表格絕對切齊 */}
          <div className="grid grid-cols-2 gap-4 sm:gap-8 mt-16 no-print w-full max-w-[800px] mx-auto px-0">
            <button onClick={checkAnswers} className="w-full px-4 py-3.5 sm:py-4 bg-[#ff8c42] text-white rounded-[1.5rem] sm:rounded-[2rem] font-black text-sm sm:text-lg shadow-[0_4px_0_#d35400] active:translate-y-0.5 transition-all">檢查答案</button>
            <button onClick={handleExportImage} disabled={isExporting} className="w-full px-4 py-3.5 sm:py-4 bg-[#433422] text-white rounded-[1.5rem] sm:rounded-[2rem] font-black text-sm sm:text-lg shadow-[0_4px_0_#1a140d] active:translate-y-0.5 transition-all flex items-center justify-center gap-1 sm:gap-3">
              {isExporting ? <RefreshCw className="w-4 h-4 animate-spin" /> : <ImageIcon className="w-4 h-4 sm:w-6 sm:h-6" />}
              {isExporting ? '生成中' : '輸出圖片'}
            </button>
          </div>
        </div>
      </div>

      {/* --- 核心：虛擬 A4 導出層 (維持穩定 4x2 佈局與 1:1 底線) --- */}
      <div 
        ref={exportContainerRef}
        style={{ 
          position: 'fixed', left: '-9999px', top: '0', width: '800px', height: '1132px', 
          backgroundColor: 'white', padding: '10px 40px 10px 40px', border: '12px solid #f9ebbe', 
          display: 'none', boxSizing: 'border-box'
        }}
      >
        <div className="w-full h-full flex flex-col" style={{ boxSizing: 'border-box', position: 'relative' }}>
          <div className="text-center pt-8">
            <h1 style={{ fontSize: '56px', fontWeight: '900', color: '#433422', letterSpacing: '0.2em', margin: '0 0 35px 0', lineHeight: '1' }}>專注力學習單</h1>
            <p style={{ fontSize: '18px', color: '#433422', opacity: 0.8, margin: '0 0 45px 0', padding: '0' }}>為小朋友打造最溫馨、專業的視覺搜尋與空間對應練習空間</p>
          </div>

          <div style={{ 
            display: 'flex', justifyContent: 'space-between', alignItems: 'center', width: '100%', 
            marginBottom: '70px', padding: '0 5px', boxSizing: 'border-box'
          }}>
            <div style={{ display: 'flex', alignItems: 'center', fontSize: '28px', fontWeight: '900', color: '#433422' }}>
              <span>班級：</span>
              <div style={{ width: '220px', borderBottom: '3px solid #433422', height: '32px' }}></div>
            </div>
            <div style={{ display: 'flex', alignItems: 'center', fontSize: '28px', fontWeight: '900', color: '#433422' }}>
              <span>姓名：</span>
              <div style={{ width: '220px', borderBottom: '3px solid #433422', height: '32px' }}></div>
            </div>
          </div>

          <div className="flex-grow flex flex-col" style={{ gap: '40px' }}>
            <div className="bg-white pt-16 pb-12 px-8 rounded-[2rem] border-2 border-[#f9ebbe] relative" style={{ width: '100%', boxSizing: 'border-box' }}>
              <div style={{ 
                position: 'absolute', top: '-24px', left: '40px',
                backgroundColor: '#ff8c42', color: 'white', width: '240px', height: '48px', borderRadius: '999px',
                display: 'flex', alignItems: 'center', justifyContent: 'center',
                boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1)', gap: '8px'
              }}>
                <Key style={{ width: '22px', height: '22px' }} />
                <span style={{ fontWeight: '900', fontSize: '20px', letterSpacing: '0.1em', transform: 'translateY(-9px)' }}>找出正確密碼</span>
              </div>

              <div className={`grid ${mode === '3x3' ? 'grid-cols-5 gap-12' : 'grid-cols-4 gap-x-4 gap-y-10'}`}>
                {targetIcons.map((icon) => (
                  <div key={icon.id} className={`flex items-center ${mode === '3x3' ? 'flex-col gap-6' : 'flex-row justify-center gap-4'}`}>
                    <div className="flex items-center justify-center" style={{ width: mode === '4x4' ? '60px' : '70px', height: mode === '4x4' ? '60px' : '80px' }}>
                      <icon.component style={{ width: mode === '4x4' ? '55px' : '70px', height: mode === '4x4' ? '55px' : '70px', color: icon.hex }} fill="currentColor" strokeWidth={0} />
                    </div>
                    <div style={{ 
                      width: mode === '4x4' ? '85px' : '105px', height: mode === '4x4' ? '85px' : '105px', 
                      borderRadius: '12px', border: '4px solid #fff7ed', backgroundColor: '#ffffff',
                      flexShrink: 0
                    }}></div>
                  </div>
                ))}
              </div>
            </div>

            <div className="grid grid-cols-2 gap-10" style={{ width: '100%' }}>
              <div className="flex flex-col items-center relative">
                <div style={{ 
                  backgroundColor: '#ff8c42', color: 'white', width: '260px', height: '48px', borderRadius: '999px', 
                  display: 'flex', alignItems: 'center', justifyContent: 'center', marginBottom: '25px', gap: '8px'
                }}>
                  <Palette style={{ width: '22px', height: '22px' }} />
                  <span style={{ fontWeight: '900', fontSize: '20px', transform: 'translateY(-9px)' }}>圖案分布圖</span>
                </div>
                <div className="grid gap-2 bg-[#fff9e6] p-4 rounded-[2rem] border-2 border-[#f9ebbe] w-full aspect-square">
                  <div className={`grid h-full w-full gap-2 ${mode === '3x3' ? 'grid-cols-3' : 'grid-cols-4'}`}>
                    {leftGrid.map((item, idx) => (
                      <div key={`left-${idx}`} className="aspect-square bg-white rounded-2xl flex items-center justify-center border border-orange-50/50" style={{ backgroundColor: '#ffffff', overflow: 'hidden' }}>
                        {item && <item.component style={{ width: '75%', height: '75%', color: item.hex }} fill="currentColor" strokeWidth={0} />}
                      </div>
                    ))}
                  </div>
                </div>
              </div>

              <div className="flex flex-col items-center relative">
                <div style={{ 
                  backgroundColor: '#ff8c42', color: 'white', width: '260px', height: '48px', borderRadius: '999px', 
                  display: 'flex', alignItems: 'center', justifyContent: 'center', marginBottom: '25px', gap: '8px'
                }}>
                  <Hash style={{ width: '22px', height: '22px' }} />
                  <span style={{ fontWeight: '900', fontSize: '20px', transform: 'translateY(-9px)' }}>數字密碼圖</span>
                </div>
                <div className="grid gap-2 bg-[#fff9e6] p-4 rounded-[2rem] border-2 border-[#f9ebbe] w-full aspect-square">
                  <div className={`grid h-full w-full gap-2 ${mode === '3x3' ? 'grid-cols-3' : 'grid-cols-4'}`}>
                    {rightGrid.map((num, idx) => (
                      <div key={`right-${idx}`} className="aspect-square bg-white rounded-2xl" style={{ backgroundColor: '#ffffff', border: '1px solid #fed7aa', position: 'relative', overflow: 'hidden' }}>
                        <div style={{ position: 'absolute', top: '0', left: '0', width: '100%', height: '100%', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>
                          <span style={{ 
                            fontSize: mode === '3x3' ? '64px' : '48px', fontWeight: '900', color: '#433422',
                            lineHeight: '1', transform: 'translateY(-40%)' 
                          }}>{num}</span>
                        </div>
                      </div>
                    ))}
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

export default App;